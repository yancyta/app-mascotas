(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{ROo7:function(r,e,t){"use strict";t.r(e),t.d(e,"RutasHijasModule",function(){return Er});var i=t("iInd"),a=t("fXoL");let n=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Bb({type:r,selectors:[["app-tablero"]],decls:2,vars:0,template:function(r,e){1&r&&(a.Mb(0,"p"),a.lc(1,"tablero works!"),a.Lb())},encapsulation:2}),r})();var o=t("ofXK"),s=t("s7LF");const b=function(r){return{"is-invalid":r}};let c=(()=>{class r{constructor(){this.progreso=50,this.btnClass="btn-primary",this.valorSalida=new a.n}ngOnInit(){this.btnClass="btn "+this.btnClass}cambiarValor(r){return this.progreso>=100&&r>=0?(this.valorSalida.emit(100),void(this.progreso=100)):this.progreso<=0&&r<0?(this.valorSalida.emit(0),void(this.progreso=0)):(this.progreso=this.progreso+r,void this.valorSalida.emit(this.progreso))}onChange(r){this.progreso=r>=100?100:r<=0?0:r,this.valorSalida.emit(this.progreso)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Bb({type:r,selectors:[["app-incrementador"]],inputs:{progreso:["valor","progreso"],btnClass:"btnClass"},outputs:{valorSalida:"valor"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","placeholder"," Progreso","min","0","max","100",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"fa","fa-plus"]],template:function(r,e){1&r&&(a.Mb(0,"div",0),a.Mb(1,"span",1),a.Mb(2,"button",2),a.Tb("click",function(){return e.cambiarValor(-5)}),a.Ib(3,"i",3),a.Lb(),a.Lb(),a.Mb(4,"input",4),a.Tb("ngModelChange",function(r){return e.onChange(r)})("ngModelChange",function(r){return e.progreso=r}),a.Lb(),a.Mb(5,"span",1),a.Mb(6,"button",2),a.Tb("click",function(){return e.cambiarValor(5)}),a.Ib(7,"i",5),a.Lb(),a.Lb(),a.Lb()),2&r&&(a.wb(2),a.Zb("ngClass",e.btnClass),a.wb(2),a.Zb("ngClass",a.bc(4,b,e.progreso>100||e.progreso<0))("ngModel",e.progreso),a.wb(2),a.Zb("ngClass",e.btnClass))},directives:[o.i,s.m,s.b,s.h,s.k],encapsulation:2}),r})(),l=(()=>{class r{constructor(){this.progreso1=25,this.progreso2=35}get getProgreso1(){return this.progreso1+"%"}get getProgreso2(){return this.progreso2+"%"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Bb({type:r,selectors:[["app-barra-progreso"]],decls:19,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-20"],["role"," progressbar",1,"progress-bar","bg-primary","progress-bar-striped","active",2,"height","5px"],["role"," progressbar",1,"progress-bar","bg-info","progress-bar-striped","active",2,"height","5px"],[1,"col-6"],[3,"valor"],[3,"valor","btnClass"]],template:function(r,e){1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"h4",4),a.lc(5,"Barra de progreso "),a.Lb(),a.Mb(6,"div",5),a.Ib(7,"div",6),a.Lb(),a.Mb(8,"div",5),a.Ib(9,"div",7),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(10,"div",0),a.Mb(11,"div",8),a.Mb(12,"div",2),a.Mb(13,"div",3),a.Mb(14,"app-incrementador",9),a.Tb("valor",function(r){return e.progreso1=r}),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(15,"div",8),a.Mb(16,"div",2),a.Mb(17,"div",3),a.Mb(18,"app-incrementador",10),a.Tb("valor",function(r){return e.progreso2=r}),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&r&&(a.wb(7),a.ic("width",e.getProgreso1),a.wb(2),a.ic("width",e.getProgreso2),a.wb(5),a.Zb("valor",e.progreso1),a.wb(4),a.Zb("valor",e.progreso2)("btnClass","btn-info"))},directives:[c],styles:[".progress-bar.active[_ngcontent-%COMP%], .progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%], .progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:all 5s;animation-duration:5s;animation-name:myanimation;transition:all 5s}@keyframes myanimation{0%{width:0}}"]}),r})();var u=t("LPYB");let d=(()=>{class r{constructor(){this.title="Sin titulo",this.doughnutChartLabels=["Label1","Label2","Label2"],this.doughnutChartData=[[350,4150,100]],this.colors=[{backgroundColor:["#6857E6","#009FEE","#F02059"]}]}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Bb({type:r,selectors:[["app-gdona"]],inputs:{title:"title",doughnutChartLabels:["labels","doughnutChartLabels"],doughnutChartData:["data","doughnutChartData"]},decls:6,vars:4,consts:[[1,"card"],[1,"card-body"],[2,"display","block"],["baseChart","","chartType","doughnut",3,"data","labels","colors"]],template:function(r,e){1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"h3"),a.lc(3),a.Lb(),a.Mb(4,"div",2),a.Ib(5,"canvas",3),a.Lb(),a.Lb(),a.Lb()),2&r&&(a.wb(3),a.mc(e.title),a.wb(2),a.Zb("data",e.doughnutChartData)("labels",e.doughnutChartLabels)("colors",e.colors))},directives:[u.a],encapsulation:2}),r})(),m=(()=>{class r{constructor(){this.labels1=["leyenda1","leyenda2","leyenda3"],this.data1=[[10,105,500]],this.data3=[[15,15,1]]}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Bb({type:r,selectors:[["app-grafica1"]],decls:10,vars:3,consts:[[1,"row"],[1,"col-6"],["title","Ventas"],["title","Compras",3,"labels","data"],["title","Cambios",3,"data"],["title","Compras 2"]],template:function(r,e){1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Ib(2,"app-gdona",2),a.Lb(),a.Mb(3,"div",1),a.Ib(4,"app-gdona",3),a.Lb(),a.Lb(),a.Mb(5,"div",0),a.Mb(6,"div",1),a.Ib(7,"app-gdona",4),a.Lb(),a.Mb(8,"div",1),a.Ib(9,"app-gdona",5),a.Lb(),a.Lb()),2&r&&(a.wb(4),a.Zb("labels",e.labels1)("data",e.data1),a.wb(3),a.Zb("data",e.data3))},directives:[d],encapsulation:2}),r})();var g=t("j31W");let h=(()=>{class r{constructor(r){this.configuracionServicio=r}ngOnInit(){this.configuracionServicio.checkTemaActual()}cambiarTema(r){this.configuracionServicio.cambiarTema(r)}}return r.\u0275fac=function(e){return new(e||r)(a.Hb(g.a))},r.\u0275cmp=a.Bb({type:r,selectors:[["app-cuenta-config"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme","working",3,"click"]],template:function(r,e){1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"h3"),a.lc(5,"Seleccione el tema"),a.Lb(),a.Mb(6,"div",4),a.Mb(7,"ul",5),a.Mb(8,"li"),a.Mb(9,"b"),a.lc(10,"Colores claros"),a.Lb(),a.Lb(),a.Mb(11,"li"),a.Mb(12,"a",6),a.Tb("click",function(){return e.cambiarTema("default")}),a.lc(13,"1"),a.Lb(),a.Lb(),a.Mb(14,"li"),a.Mb(15,"a",7),a.Tb("click",function(){return e.cambiarTema("green")}),a.lc(16,"2"),a.Lb(),a.Lb(),a.Mb(17,"li"),a.Mb(18,"a",8),a.Tb("click",function(){return e.cambiarTema("red")}),a.lc(19,"3"),a.Lb(),a.Lb(),a.Mb(20,"li"),a.Mb(21,"a",9),a.Tb("click",function(){return e.cambiarTema("blue")}),a.lc(22,"4"),a.Lb(),a.Lb(),a.Mb(23,"li"),a.Mb(24,"a",10),a.Tb("click",function(){return e.cambiarTema("purple")}),a.lc(25,"5"),a.Lb(),a.Lb(),a.Mb(26,"li"),a.Mb(27,"a",11),a.Tb("click",function(){return e.cambiarTema("megna")}),a.lc(28,"6"),a.Lb(),a.Lb(),a.Mb(29,"li",12),a.Mb(30,"b"),a.lc(31,"Colores oscuros"),a.Lb(),a.Lb(),a.Mb(32,"li"),a.Mb(33,"a",13),a.Tb("click",function(){return e.cambiarTema("default-dark")}),a.lc(34,"7"),a.Lb(),a.Lb(),a.Mb(35,"li"),a.Mb(36,"a",14),a.Tb("click",function(){return e.cambiarTema("green-dark")}),a.lc(37,"8"),a.Lb(),a.Lb(),a.Mb(38,"li"),a.Mb(39,"a",15),a.Tb("click",function(){return e.cambiarTema("red-dark")}),a.lc(40,"9"),a.Lb(),a.Lb(),a.Mb(41,"li"),a.Mb(42,"a",16),a.Tb("click",function(){return e.cambiarTema("blue-dark")}),a.lc(43,"10"),a.Lb(),a.Lb(),a.Mb(44,"li"),a.Mb(45,"a",17),a.Tb("click",function(){return e.cambiarTema("purple-dark")}),a.lc(46,"11"),a.Lb(),a.Lb(),a.Mb(47,"li"),a.Mb(48,"a",18),a.Tb("click",function(){return e.cambiarTema("megna-dark")}),a.lc(49,"12"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb())},encapsulation:2}),r})(),p=(()=>{class r{constructor(){}ngOnInit(){this.getUsuario().then(r=>{console.log(r)})}getUsuario(){return new Promise(r=>{fetch("https://reqres.in/api/users").then(r=>r.json()).then(e=>r(e.data))})}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Bb({type:r,selectors:[["app-promesas"]],decls:2,vars:0,template:function(r,e){1&r&&(a.Mb(0,"p"),a.lc(1,"promesas works!"),a.Lb())},encapsulation:2}),r})();var f=t("HDdC"),v=t("D0XW"),M=t("DH7j");function L(r){const{subscriber:e,counter:t,period:i}=r;e.next(t),this.schedule({subscriber:e,counter:t+1,period:i},i)}var w=t("lJxs"),k=t("pLZG");let I=(()=>{class r{constructor(){this.intervalSubs=this.retornaIntervalo().subscribe(console.log)}ngOnDestroy(){this.intervalSubs.unsubscribe()}retornaIntervalo(){return function(r=0,e=v.a){var t;return t=r,(Object(M.a)(t)||!(t-parseFloat(t)+1>=0)||r<0)&&(r=0),e&&"function"==typeof e.schedule||(e=v.a),new f.a(t=>(t.add(e.schedule(L,r,{subscriber:t,counter:0,period:r})),t))}(1e3).pipe(Object(w.a)(r=>r+1),Object(k.a)(r=>r%2==0))}retornaObservable(){let r=-1;return new f.a(e=>{const t=setInterval(()=>{r++,e.next(r),4===r&&(clearInterval(t),e.complete()),2===r&&e.error("i lleg\xf3 a 2")},1e3)})}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Bb({type:r,selectors:[["app-rxjs"]],decls:2,vars:0,template:function(r,e){1&r&&(a.Mb(0,"p"),a.lc(1,"rxjs works!"),a.Lb())},encapsulation:2}),r})();var V=t("PSD3"),C=t.n(V),y=t("5eHb"),S=t("zDU/"),x=t("qXky");function T(r,e){1&r&&(a.Mb(0,"span"),a.lc(1," Requiere un nombre"),a.Lb())}function Z(r,e){1&r&&(a.Mb(0,"span"),a.lc(1,"Nombre no v\xe1lido "),a.Lb())}function O(r,e){if(1&r&&(a.Mb(0,"span"),a.lc(1),a.Lb()),2&r){const r=a.Vb();let e=null;a.wb(1),a.nc(" Tama\xf1o m\xednimo ",null==(e=r.formUsuario.get("nombre "))||null==e.errors||null==e.errors.minlength?null:e.errors.minlength.requiredLength," ")}}function U(r,e){1&r&&(a.Mb(0,"span"),a.lc(1," Requiere un correo v\xe1lido"),a.Lb())}function E(r,e){1&r&&(a.Mb(0,"span"),a.lc(1," Correo no v\xe1lido "),a.Lb())}function B(r,e){if(1&r&&a.Ib(0,"img",24),2&r){const r=a.Vb();a.Zb("src",r.usuario.imagenUrl,a.gc)}}function $(r,e){if(1&r&&a.Ib(0,"img",24),2&r){const r=a.Vb();a.Zb("src",r.imgTemp,a.gc)}}let N=(()=>{class r{constructor(r,e,t,i,a){this.fb=r,this.toastr=e,this.usuarioService=t,this.router=i,this.fileUploadService=a,this.isEmail="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$",this.isName="^([A-Za-z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda]+[ ]?){1,4}$",this.formEnviado=!1,this.formUsuario=new s.e({}),this.imgTemp=null,this.usuario=t.usuario}ngOnInit(){this.iniciarFormulario()}iniciarFormulario(){this.formUsuario=this.fb.group({nombre:[this.usuario.nombre,[s.p.required,s.p.minLength(3),s.p.pattern(this.isName)]],email:[this.usuario.email,[s.p.required,s.p.pattern(this.isEmail)]]})}esCampoValido(r){var e,t,i;return!(null===(e=this.formUsuario.get(r))||void 0===e?void 0:e.valid)&&(null===(t=this.formUsuario.get(r))||void 0===t?void 0:t.touched)?"is-invalid":(null===(i=this.formUsuario.get(r))||void 0===i?void 0:i.touched)?"is-valid":""}actualizarUsuario(){this.formEnviado=!0,this.formUsuario.valid?this.usuarioService.actualizarUsuario(this.formUsuario.value).subscribe(r=>{const{nombre:e,email:t}=this.formUsuario.value;this.usuario.nombre=e,this.usuario.email=t,this.toastr.success("Perfil actualizado con \xe9xito!","Guardar",{positionClass:"toast-bottom-right"})},r=>{C.a.fire({icon:"error",title:"Error",text:r.error.msg})}):C.a.fire({icon:"error",title:"Error",text:"Algo sali\xf3 mal!"})}cambiarImagen(r){if(this.imagenSubir=r.target.files[0],!r.target.files[0])return this.imgTemp=null;const e=new FileReader;e.readAsDataURL(r.target.files[0]),e.onloadend=()=>{this.imgTemp=e.result}}subirImagen(){this.fileUploadService.actualizarFoto(this.imagenSubir,"usuarios",this.usuario.uid||"").then(r=>{this.usuario.img=r,this.toastr.success("Imagen actualizada con \xe9xito!","Guardar",{positionClass:"toast-bottom-right"})}).catch(r=>{C.a.fire({icon:"error",title:"Error",text:"No se pudo subir"})})}}return r.\u0275fac=function(e){return new(e||r)(a.Hb(s.c),a.Hb(y.b),a.Hb(S.a),a.Hb(i.c),a.Hb(x.a))},r.\u0275cmp=a.Bb({type:r,selectors:[["app-perfil"]],decls:48,vars:17,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],["autocomplete","off",1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Nombre","formControlName","nombre",1,"form-control",3,"readOnly"],[1,"invalid-feedback"],[4,"ngIf"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],["class","img-avatar",3,"src",4,"ngIf"],["type","file",3,"disabled","change"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10","mt-2",3,"disabled","click"],[1,"img-avatar",3,"src"]],template:function(r,e){if(1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"h4",4),a.lc(5,"Mi Perfil e Usuario"),a.Lb(),a.Mb(6,"h6",5),a.lc(7,"Configuraci\xf3n"),a.Lb(),a.Mb(8,"form",6),a.Tb("ngSubmit",function(){return e.actualizarUsuario()}),a.Mb(9,"div",7),a.Mb(10,"label",8),a.lc(11,"Usuario"),a.Lb(),a.Mb(12,"div",9),a.Mb(13,"div",10),a.Ib(14,"i",11),a.Lb(),a.Ib(15,"input",12),a.Mb(16,"div",13),a.kc(17,T,2,0,"span",14),a.kc(18,Z,2,0,"span",14),a.kc(19,O,2,1,"span",14),a.Lb(),a.Lb(),a.Lb(),a.Mb(20,"div",7),a.Mb(21,"label",15),a.lc(22,"Correo"),a.Lb(),a.Mb(23,"div",9),a.Mb(24,"div",10),a.Ib(25,"i",16),a.Lb(),a.Ib(26,"input",17),a.Mb(27,"div",13),a.kc(28,U,2,0,"span",14),a.kc(29,E,2,0,"span",14),a.Lb(),a.Lb(),a.Lb(),a.Mb(30,"button",18),a.Ib(31,"i",19),a.lc(32," Guardar Cambios"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(33,"div",1),a.Mb(34,"div",2),a.Mb(35,"div",3),a.Mb(36,"h4",4),a.lc(37,"Imagen"),a.Lb(),a.Mb(38,"h6",5),a.lc(39,"Imagen del usuario"),a.Lb(),a.Mb(40,"div",20),a.kc(41,B,1,1,"img",21),a.kc(42,$,1,1,"img",21),a.Lb(),a.Mb(43,"input",22),a.Tb("change",function(r){return e.cambiarImagen(r)}),a.Lb(),a.Ib(44,"br"),a.Mb(45,"button",23),a.Tb("click",function(){return e.subirImagen()}),a.Ib(46,"i",19),a.lc(47," Cambiar Imagen"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&r){let r=null,t=null,i=null,n=null,o=null;a.wb(8),a.Zb("formGroup",e.formUsuario),a.wb(7),a.yb(e.esCampoValido("nombre")),a.Zb("readOnly",e.usuario.google),a.wb(2),a.Zb("ngIf",null==(r=e.formUsuario.get("nombre"))||null==r.errors?null:r.errors.required),a.wb(1),a.Zb("ngIf",null==(t=e.formUsuario.get("nombre"))||null==t.errors?null:t.errors.pattern),a.wb(1),a.Zb("ngIf",null==(i=e.formUsuario.get("nombre"))||null==i.errors?null:i.errors.minlength),a.wb(7),a.yb(e.esCampoValido("nombre")),a.Zb("readOnly",e.usuario.google),a.wb(2),a.Zb("ngIf",null==(n=e.formUsuario.get("email"))||null==n.errors?null:n.errors.required),a.wb(1),a.Zb("ngIf",null==(o=e.formUsuario.get("email"))||null==o.errors?null:o.errors.pattern),a.wb(1),a.Zb("disabled",e.formUsuario.invalid),a.wb(11),a.Zb("ngIf",!e.imgTemp),a.wb(1),a.Zb("ngIf",e.imgTemp),a.wb(1),a.Zb("disabled",e.usuario.google),a.wb(2),a.Zb("disabled",!e.imagenSubir)}},directives:[s.r,s.i,s.f,s.b,s.h,s.d,o.k],encapsulation:2}),r})();var q=t("3E0/"),H=t("AytR"),_=t("aXLT"),A=t("IheW");const P=H.a.base_url;let F=(()=>{class r{constructor(r){this.http=r}get token(){return localStorage.getItem("token")||""}get uid(){return this.usuario.uid||""}get headers(){return{headers:{"x-token":this.token}}}convertirUsuario(r){return r.map(r=>new _.a(r.nombre,r.email,"",r.img,r.google,r.rol,r.uid))}convertirVeterinaria(r){return r}convertirVeterinario(r){return r}buscar(r,e=""){return this.http.get(`${P}/todo/coleccion/${r}/${e}`,this.headers).pipe(Object(w.a)(e=>{switch(r){case"usuarios":return this.convertirUsuario(e.resultados);case"veterinarias":return this.convertirVeterinaria(e.resultados);case"veterinarios":return this.convertirVeterinario(e.resultados);default:return[]}}))}busquedaGlobal(r){const e=`${P}/todo/${r}`;return console.log(e),this.http.get(e,this.headers)}}return r.\u0275fac=function(e){return new(e||r)(a.Qb(A.a))},r.\u0275prov=a.Db({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var R=t("0qYD");function j(r,e){1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",8),a.Mb(3,"h4",9),a.lc(4,"Cargando"),a.Lb(),a.Ib(5,"i",10),a.Mb(6,"p",11),a.lc(7,"Por favor espere "),a.Lb(),a.Lb(),a.Lb(),a.Lb())}function D(r,e){1&r&&(a.Mb(0,"span",31),a.lc(1,"Google"),a.Lb())}function G(r,e){1&r&&(a.Mb(0,"span",32),a.lc(1,"Email"),a.Lb())}function z(r,e){if(1&r){const r=a.Nb();a.Mb(0,"tr"),a.Mb(1,"td",21),a.Mb(2,"img",22),a.Tb("click",function(){a.ec(r);const t=e.$implicit;return a.Vb(2).abrirModal(t)}),a.Lb(),a.Lb(),a.Mb(3,"td"),a.lc(4),a.Lb(),a.Mb(5,"td"),a.lc(6),a.Lb(),a.Mb(7,"td"),a.Mb(8,"select",23),a.Tb("ngModelChange",function(r){return e.$implicit.rol=r})("change",function(){a.ec(r);const t=e.$implicit;return a.Vb(2).cambiarRol(t)}),a.Mb(9,"option",24),a.lc(10,"Admin"),a.Lb(),a.Mb(11,"option",25),a.lc(12,"User"),a.Lb(),a.Lb(),a.Lb(),a.Mb(13,"td"),a.kc(14,D,2,0,"span",26),a.kc(15,G,2,0,"span",27),a.Lb(),a.Mb(16,"td",28),a.Mb(17,"a",29),a.Tb("click",function(){a.ec(r);const t=e.$implicit;return a.Vb(2).eliminarUsuario(t)}),a.Ib(18,"i",30),a.Lb(),a.Lb(),a.Lb()}if(2&r){const r=e.$implicit;a.wb(2),a.Zb("src",r.imagenUrl,a.gc),a.wb(2),a.mc(r.email),a.wb(2),a.mc(r.nombre),a.wb(2),a.Zb("ngModel",r.rol),a.wb(6),a.Zb("ngIf",r.google),a.wb(1),a.Zb("ngIf",!r.google)}}function X(r,e){if(1&r){const r=a.Nb();a.Mb(0,"div"),a.Mb(1,"button",33),a.Tb("click",function(){return a.ec(r),a.Vb(2).cambiarPagina(-5)}),a.lc(2,"Anterior "),a.Lb(),a.lc(3,"\xa0 "),a.Mb(4,"button",33),a.Tb("click",function(){return a.ec(r),a.Vb(2).cambiarPagina(5)}),a.lc(5,"Siguiente"),a.Lb(),a.Lb()}}function W(r,e){if(1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"h4",12),a.lc(5),a.Lb(),a.Mb(6,"h6",13),a.lc(7,"Usuarios registrados en la aplicaci\xf3n"),a.Lb(),a.Mb(8,"div",14),a.Mb(9,"table",15),a.Mb(10,"thead"),a.Mb(11,"tr"),a.Mb(12,"th",16),a.lc(13,"Imagen"),a.Lb(),a.Mb(14,"th"),a.lc(15,"Correo"),a.Lb(),a.Mb(16,"th"),a.lc(17,"Nombre"),a.Lb(),a.Mb(18,"th",17),a.lc(19," Rol"),a.Lb(),a.Mb(20,"th",16),a.lc(21,"Autenicaci\xf3n"),a.Lb(),a.Mb(22,"th",18),a.lc(23,"Acciones"),a.Lb(),a.Lb(),a.Lb(),a.Mb(24,"tbody"),a.kc(25,z,19,6,"tr",19),a.Lb(),a.Lb(),a.Lb(),a.kc(26,X,6,0,"div",20),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&r){const r=a.Vb(),e=a.dc(5);a.wb(5),a.nc("Total de Usuarios (",r.totalUsuarios,") "),a.wb(20),a.Zb("ngForOf",r.usuarios),a.wb(1),a.Zb("ngIf",0===e.value.length)}}let Q=(()=>{class r{constructor(r,e,t,i){this.usuarioService=r,this.busquedaService=e,this.toastr=t,this.modalImagenService=i,this.totalUsuarios=0,this.usuarios=[],this.desde=0,this.cargando=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarRegistros(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe(Object(q.a)(1e3)).subscribe(r=>{this.cargarRegistros()})}cargarRegistros(){this.cargando=!0,this.usuarioService.cargarUsuarios(this.desde).subscribe(({total:r,usuarios:e})=>{this.totalUsuarios=r,this.usuarios=e,this.cargando=!1})}cambiarPagina(r){this.desde+=r,this.desde<0?this.desde=0:this.desde>this.totalUsuarios&&(this.desde-=r),this.cargarRegistros()}buscar(r){0===r.length?this.cargarRegistros():this.busquedaService.buscar("usuarios",r).subscribe(r=>{this.usuarios=r,this.usuarios.length>0&&(this.totalUsuarios=this.usuarios.length)})}eliminarUsuario(r){if(r.uid===this.usuarioService.uid)C.a.fire({icon:"error",title:"Error",text:"No puedes eliminar tu usuario"});else try{C.a.fire({title:"\xbfEstas seguro de eliminar?",text:"Esta seguro de borrar a"+r.nombre,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar !"}).then(e=>{e.isConfirmed&&this.usuarioService.eliminarUsuario(r).subscribe(r=>{this.cargarRegistros(),this.toastr.info("El registro fue eliminado con \xe9xito!","Eliminado",{positionClass:"toast-bottom-right"})})})}catch(e){C.a.fire({icon:"error",title:"Error",text:"Error al eliminar"})}}cambiarRol(r){this.usuarioService.actualizarRol(r).subscribe(r=>{console.log(r)})}abrirModal(r){this.modalImagenService.abrirModal("usuarios",r.uid,r.img)}}return r.\u0275fac=function(e){return new(e||r)(a.Hb(S.a),a.Hb(F),a.Hb(y.b),a.Hb(R.a))},r.\u0275cmp=a.Bb({type:r,selectors:[["app-usuarios"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar usuario",1,"form-control",3,"keyup"],["txtTermino",""],["class"," row animated fadeIn fast ",4,"ngIf"],["class","row animated fadeIn fast ",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w140"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],["alt","Imagen de Usuario",1,"avatar","cursor",3,"src","click"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class"," label label-success",4,"ngIf"],["class","label label-info ",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip ","data-original-title"," Borrar ",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-success"],[1,"label","label-info"],[1,"btn","btn-secondary",3,"click"]],template:function(r,e){if(1&r){const r=a.Nb();a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"input",4,5),a.Tb("keyup",function(){a.ec(r);const t=a.dc(5);return e.buscar(t.value)}),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.kc(6,j,8,0,"div",6),a.kc(7,W,27,3,"div",7)}2&r&&(a.wb(6),a.Zb("ngIf",e.cargando),a.wb(1),a.Zb("ngIf",!e.cargando))},directives:[o.k,o.j,s.o,s.h,s.k,s.l,s.q],encapsulation:2}),r})();var J=t("mrSG");class Y{constructor(r,e,t,i){this.nombre=r,this.img=e,this._id=t,this.usuario=i}}const K=H.a.base_url;let rr=(()=>{class r{constructor(r){this.http=r}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}cargarVeterinarias(){return this.http.get(K+"/veterinarias",this.headers).pipe(Object(w.a)(r=>r.veterinarias.map(r=>new Y(r.nombre,r.img,r._id,r.usuario))))}crearVeterinaria(r){return this.http.post(K+"/veterinarias",{nombre:r},this.headers)}actualizarVeterinaria(r){return this.http.put(`${K}/veterinarias/${r._id}`,{nombre:r.nombre},this.headers)}borrarVeterinaria(r){return this.http.delete(`${K}/veterinarias/${r._id}`,this.headers)}}return r.\u0275fac=function(e){return new(e||r)(a.Qb(A.a))},r.\u0275prov=a.Db({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const er=H.a.base_url;let tr=(()=>{class r{transform(r,e){return r?(null==r?void 0:r.includes("https"))?r:r?`${er}/upload/${e}/${r}`:er+"/upload/usuarios/no-image":er+"/upload/usuarios/no-image"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=a.Gb({name:"imagen",type:r,pure:!0}),r})();function ir(r,e){1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",8),a.Mb(3,"h4",9),a.lc(4,"Cargando"),a.Lb(),a.Ib(5,"i",10),a.Mb(6,"p",11),a.lc(7,"Por favor espere "),a.Lb(),a.Lb(),a.Lb(),a.Lb())}function ar(r,e){if(1&r){const r=a.Nb();a.Mb(0,"tr"),a.Mb(1,"td",26),a.Mb(2,"img",27),a.Tb("click",function(){a.ec(r);const t=e.$implicit;return a.Vb(2).abrirModal(t)}),a.Wb(3,"imagen"),a.Lb(),a.Lb(),a.Mb(4,"td"),a.Mb(5,"div"),a.Mb(6,"input",28),a.Tb("ngModelChange",function(r){return e.$implicit.nombre=r}),a.Lb(),a.Mb(7,"div",29),a.lc(8,"Campo Obligatorio"),a.Lb(),a.Lb(),a.Lb(),a.Mb(9,"td",30),a.Mb(10,"a",31),a.Tb("click",function(){a.ec(r);const t=e.$implicit;return a.Vb(2).guardarCambios(t)}),a.Ib(11,"i",32),a.Lb(),a.Mb(12,"a",33),a.Tb("click",function(){a.ec(r);const t=e.$implicit;return a.Vb(2).borrar(t)}),a.Ib(13,"i",34),a.Lb(),a.Lb(),a.Lb()}if(2&r){const r=e.$implicit;a.wb(2),a.Zb("src",a.Xb(3,3,r.img,"veterinarias"),a.gc)("alt",r.nombre),a.wb(4),a.Zb("ngModel",r.nombre)}}function nr(r,e){if(1&r){const r=a.Nb();a.Mb(0,"div",12),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"div",12),a.Mb(5,"div",13),a.Mb(6,"h4",14),a.lc(7),a.Lb(),a.Mb(8,"h6",15),a.lc(9,"Veterinarias registrados en la aplicaci\xf3n"),a.Lb(),a.Lb(),a.Mb(10,"div",16),a.Mb(11,"div",17),a.Mb(12,"button",18),a.Tb("click",function(){return a.ec(r),a.Vb().abrirSweetAlert()}),a.Ib(13,"i",19),a.lc(14," Crear"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(15,"div",20),a.Mb(16,"table",21),a.Mb(17,"thead"),a.Mb(18,"tr"),a.Mb(19,"th",22),a.lc(20,"Imagen"),a.Lb(),a.Mb(21,"th"),a.lc(22,"Nombre"),a.Lb(),a.Mb(23,"th",23),a.lc(24,"Acciones"),a.Lb(),a.Lb(),a.Lb(),a.Mb(25,"tbody"),a.kc(26,ar,14,6,"tr",24),a.Lb(),a.Lb(),a.Lb(),a.Mb(27,"button",25),a.lc(28,"Siguiente"),a.Lb(),a.lc(29,"\xa0 "),a.Mb(30,"button",25),a.lc(31,"Anterior"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()}if(2&r){const r=a.Vb();a.wb(7),a.nc("Veterinarias (",r.veterinarias.length,")"),a.wb(19),a.Zb("ngForOf",r.veterinarias)}}let or=(()=>{class r{constructor(r,e,t,i){this.veterinariaService=r,this.toastr=e,this.modalImagenService=t,this.busquedaService=i,this.veterinarias=[],this.veterinariasTemp=[],this.cargando=!0,this.totalVeterinarias=0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarVeterinarias(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe(Object(q.a)(1e3)).subscribe(r=>{this.cargarVeterinarias()})}cargarVeterinarias(){this.cargando=!0,this.veterinariaService.cargarVeterinarias().subscribe(r=>{this.cargando=!1,this.veterinarias=r,this.veterinariasTemp=r})}guardarCambios(r){this.veterinariaService.actualizarVeterinaria(r).subscribe(r=>{this.toastr.success("El registro fue modificado con \xe9xito!","Guardar",{positionClass:"toast-bottom-right"})},r=>{C.a.fire({icon:"error",title:"Error",text:r.error.msg})})}borrar(r){C.a.fire({title:"\xbfEstas seguro de eliminar?",text:"Esta seguro de borrar a"+r.nombre,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar !"}).then(e=>{e.isConfirmed&&this.veterinariaService.borrarVeterinaria(r).subscribe(r=>{this.toastr.info("El registro fue eliminado con \xe9xito!","Eliminado",{positionClass:"toast-bottom-right"}),this.cargarVeterinarias()},r=>{C.a.fire({icon:"error",title:"Error",text:r.error.msg})})})}abrirSweetAlert(){return Object(J.a)(this,void 0,void 0,function*(){const{value:r=""}=yield C.a.fire({title:"Crear Veterinaria",input:"text",inputLabel:"Nombre",inputPlaceholder:"Nombre de la veterinaria",showCancelButton:!0});r.trim().length>0&&this.veterinariaService.crearVeterinaria(r).subscribe(r=>{this.toastr.success("Registro guardado con \xe9xito!","Guardar",{positionClass:"toast-bottom-right"}),this.veterinarias.push(r.crearVeterinaria)},r=>{C.a.fire({icon:"error",title:"Error",text:r.error.msg})})})}abrirModal(r){this.modalImagenService.abrirModal("veterinarias",r._id,r.img)}buscar(r){0===r.length?this.veterinarias=this.veterinariasTemp:this.busquedaService.buscar("veterinarias",r).subscribe(r=>{this.veterinarias=r,this.veterinarias.length>0&&(this.totalVeterinarias=this.veterinarias.length)})}}return r.\u0275fac=function(e){return new(e||r)(a.Hb(rr),a.Hb(y.b),a.Hb(R.a),a.Hb(F))},r.\u0275cmp=a.Bb({type:r,selectors:[["app-veterinarias"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar veterinaria",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title","mt-1"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],[1,"btn","btn-info",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w100","text-nowrap"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary"],[1,"text-center"],[1,"w100","cursor",3,"src","alt","click"],["type","text","id","inputHorizontalDnger","placeholder","Nombre de la veterinaria",1,"form-control","form-control-danger",3,"ngModel","ngModelChange"],[1,"form-control-feedback"],[1,"text-nowrap","text-center"],["ata-toggle","tooltip","data-original-title","Guardar",1,"cursor",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip ","data-original-title","Borrar ",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(r,e){if(1&r){const r=a.Nb();a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"input",4,5),a.Tb("keyup",function(){a.ec(r);const t=a.dc(5);return e.buscar(t.value)}),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.kc(6,ir,8,0,"div",6),a.kc(7,nr,32,2,"div",7)}2&r&&(a.wb(6),a.Zb("ngIf",e.cargando),a.wb(1),a.Zb("ngIf",!e.cargando))},directives:[o.k,o.j,s.b,s.h,s.k],pipes:[tr],encapsulation:2}),r})();const sr=H.a.base_url;let br=(()=>{class r{constructor(r){this.http=r}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}cargarVeterinarios(){return this.http.get(sr+"/veterinarios",this.headers).pipe(Object(w.a)(r=>r.veterinarios))}cargarVeterinarioPorId(r){return this.http.get(`${sr}/veterinarios/${r}`,this.headers).pipe(Object(w.a)(r=>r.veterinario))}crearVeterinario(r){return this.http.post(sr+"/veterinarios",r,this.headers)}actualizarVeterinario(r){return this.http.put(`${sr}/veterinarios/${r._id}`,r,this.headers)}borrarVeterinario(r){return this.http.delete(`${sr}/veterinarios/${r._id}`,this.headers)}}return r.\u0275fac=function(e){return new(e||r)(a.Qb(A.a))},r.\u0275prov=a.Db({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function cr(r,e){1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",8),a.Mb(3,"h4",9),a.lc(4,"Cargando"),a.Lb(),a.Ib(5,"i",10),a.Mb(6,"p",11),a.lc(7,"Por favor espere "),a.Lb(),a.Lb(),a.Lb(),a.Lb())}const lr=function(r){return["/tablero","veterinario",r]};function ur(r,e){if(1&r){const r=a.Nb();a.Mb(0,"tr"),a.Mb(1,"td"),a.Mb(2,"img",26),a.Tb("click",function(){a.ec(r);const t=e.$implicit;return a.Vb(2).abrirModal(t)}),a.Wb(3,"imagen"),a.Lb(),a.Lb(),a.Mb(4,"td"),a.lc(5),a.Lb(),a.Mb(6,"td"),a.lc(7),a.Lb(),a.Mb(8,"td",27),a.Mb(9,"a",28),a.Ib(10,"i",29),a.Lb(),a.Mb(11,"a",30),a.Tb("click",function(){a.ec(r);const t=e.$implicit;return a.Vb(2).borrar(t)}),a.Ib(12,"i",31),a.Lb(),a.Lb(),a.Lb()}if(2&r){const r=e.$implicit;a.wb(2),a.Zb("src",a.Xb(3,5,r.img,"veterinarios"),a.gc)("alt",r.nombre),a.wb(3),a.mc(r.nombre),a.wb(2),a.mc(null==r.veterinaria?null:r.veterinaria.nombre),a.wb(2),a.Zb("routerLink",a.bc(8,lr,r._id))}}function dr(r,e){if(1&r&&(a.Mb(0,"div",12),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"div",12),a.Mb(5,"div",13),a.Mb(6,"h4",14),a.lc(7),a.Lb(),a.Mb(8,"h6",15),a.lc(9,"Medicos registrados en la aplicaci\xf3n"),a.Lb(),a.Lb(),a.Mb(10,"div",16),a.Mb(11,"div",17),a.Mb(12,"a",18),a.Ib(13,"i",19),a.lc(14," Crear"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(15,"div",20),a.Mb(16,"table",21),a.Mb(17,"thead"),a.Mb(18,"tr"),a.Mb(19,"th",22),a.lc(20,"Foto"),a.Lb(),a.Mb(21,"th"),a.lc(22,"Nombre"),a.Lb(),a.Mb(23,"th"),a.lc(24,"Veterinaria"),a.Lb(),a.Mb(25,"th",23),a.lc(26,"Acciones"),a.Lb(),a.Lb(),a.Lb(),a.Mb(27,"tbody"),a.kc(28,ur,13,10,"tr",24),a.Lb(),a.Lb(),a.Lb(),a.Mb(29,"button",25),a.lc(30,"Siguiente"),a.Lb(),a.lc(31,"\xa0 "),a.Mb(32,"button",25),a.lc(33,"Anterior"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&r){const r=a.Vb();a.wb(7),a.nc("Veterinarios (",r.veterinarios.length,")"),a.wb(21),a.Zb("ngForOf",r.veterinarios)}}let mr=(()=>{class r{constructor(r,e,t,i){this.veterinarioService=r,this.toastr=e,this.modalImagenService=t,this.busquedaService=i,this.veterinarios=[],this.veterinariosTemp=[],this.cargando=!0,this.totalVeterinarios=0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarVeterinarios(),this.imgSubs=this.modalImagenService.nuevaImagen.pipe(Object(q.a)(100)).subscribe(r=>{this.cargarVeterinarios()})}cargarVeterinarios(){this.cargando=!0,this.veterinarioService.cargarVeterinarios().subscribe(r=>{this.cargando=!1,this.veterinarios=r,this.veterinariosTemp=r})}abrirModal(r){this.modalImagenService.abrirModal("veterinarios",r._id,r.img)}buscar(r){0===r.length?this.veterinarios=this.veterinariosTemp:this.busquedaService.buscar("veterinarios",r).subscribe(r=>{this.veterinarios=r,this.veterinarios.length>0&&(this.totalVeterinarios=this.veterinarios.length)})}borrar(r){C.a.fire({title:"\xbfEstas seguro de eliminar?",text:"Esta seguro de borrar a"+r.nombre,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar !"}).then(e=>{e.isConfirmed&&this.veterinarioService.borrarVeterinario(r).subscribe(r=>{this.toastr.info("El registro fue eliminado con \xe9xito!","Eliminado",{positionClass:"toast-bottom-right"}),this.cargarVeterinarios()},r=>{C.a.fire({icon:"error",title:"Error",text:r.error.msg})})})}}return r.\u0275fac=function(e){return new(e||r)(a.Hb(br),a.Hb(y.b),a.Hb(R.a),a.Hb(F))},r.\u0275cmp=a.Bb({type:r,selectors:[["app-veterinarios"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar veterinario",1,"form-control",3,"keyup"],["txtTermino",""],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],["routerLink","/tablero/veterinario/nuevo",1,"btn","btn-info"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w100","text-nowrap"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary"],[1,"w50","cursor",3,"src","alt","click"],[1,"text-nowrap","text-center"],["ata-toggle","tooltip ","data-original-title","Editar ",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip ","data-original-title","Borrar ",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(r,e){if(1&r){const r=a.Nb();a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"input",4,5),a.Tb("keyup",function(){a.ec(r);const t=a.dc(5);return e.buscar(t.value)}),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.kc(6,cr,8,0,"div",6),a.kc(7,dr,34,2,"div",7)}2&r&&(a.wb(6),a.Zb("ngIf",e.cargando),a.wb(1),a.Zb("ngIf",!e.cargando))},directives:[o.k,i.e,o.j],pipes:[tr],encapsulation:2}),r})();function gr(r,e){if(1&r&&(a.Mb(0,"div",19),a.Mb(1,"div",20),a.Mb(2,"div",21),a.Ib(3,"img",22),a.Wb(4,"imagen"),a.Lb(),a.Lb(),a.Lb()),2&r){const r=a.Vb();a.wb(3),a.Zb("src",a.Xb(4,1,r.veterinarioSeleccionado.img,"veterinarios"),a.gc)}}function hr(r,e){1&r&&(a.Mb(0,"span"),a.lc(1," Requiere un nombre"),a.Lb())}function pr(r,e){1&r&&(a.Mb(0,"span"),a.lc(1,"Nombre no v\xe1lido "),a.Lb())}function fr(r,e){if(1&r&&(a.Mb(0,"span"),a.lc(1),a.Lb()),2&r){const r=a.Vb();let e=null;a.wb(1),a.nc(" Tama\xf1o m\xednimo ",null==(e=r.formVeterinario.get("nombre"))||null==e.errors||null==e.errors.minlength?null:e.errors.minlength.requiredLength," ")}}function vr(r,e){if(1&r&&(a.Mb(0,"option",23),a.lc(1),a.Lb()),2&r){const r=e.$implicit;a.Zb("value",r._id),a.wb(1),a.mc(r.nombre)}}function Mr(r,e){1&r&&(a.Mb(0,"span"),a.lc(1,"Requiere una veterinaria "),a.Lb())}function Lr(r,e){if(1&r&&(a.Mb(0,"div",24),a.Mb(1,"div",2),a.Mb(2,"div",3),a.Mb(3,"h4",4),a.lc(4,"Veterinarias"),a.Lb(),a.Mb(5,"h6",5),a.lc(6),a.Lb(),a.Ib(7,"img",22),a.Wb(8,"imagen"),a.Lb(),a.Lb(),a.Lb()),2&r){const r=a.Vb();a.wb(6),a.mc(r.veterinariaSeleccionada.nombre),a.wb(1),a.Zb("src",a.Xb(8,2,r.veterinariaSeleccionada.img,"veterinarias"),a.gc)}}let wr=(()=>{class r{constructor(r,e,t,i,a,n){this.fb=r,this.veterinarioService=e,this.veterinariaService=t,this.toastr=i,this.router=a,this.activatedRoute=n,this.isName="^([A-Za-z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda]+[ ]?){1,4}$",this.formEnviado=!1,this.formVeterinario=new s.e({}),this.veterinarias=[]}ngOnInit(){this.leerUrl(),this.iniciarFormulario(),this.onSectionChange(),this.cargarVeterinaria()}leerUrl(){this.activatedRoute.params.subscribe(({id:r})=>this.cargarVeterinario(r))}cargarVeterinario(r){"nuevo"!==r&&this.veterinarioService.cargarVeterinarioPorId(r).pipe(Object(q.a)(1e3)).subscribe(r=>{const{nombre:e,veterinaria:{_id:t}}=r;this.veterinarioSeleccionado=r,this.formVeterinario.setValue({nombre:e,veterinaria:t})},r=>(C.a.fire({icon:"error",title:"Error",text:r.error.msg}),this.router.navigateByUrl("/tablero/veterinarios")))}iniciarFormulario(){this.formVeterinario=this.fb.group({nombre:["",[s.p.required,s.p.minLength(3),s.p.pattern(this.isName)]],veterinaria:["",[s.p.required]]})}esCampoValido(r){var e,t,i;return!(null===(e=this.formVeterinario.get(r))||void 0===e?void 0:e.valid)&&(null===(t=this.formVeterinario.get(r))||void 0===t?void 0:t.touched)?"is-invalid":(null===(i=this.formVeterinario.get(r))||void 0===i?void 0:i.touched)?"is-valid":""}crearVeterinario(){if(this.formEnviado=!0,this.formVeterinario.valid)if(this.veterinarioSeleccionado){const r=Object.assign(Object.assign({},this.formVeterinario.value),{_id:this.veterinarioSeleccionado._id});this.veterinarioService.actualizarVeterinario(r).subscribe(r=>{this.toastr.success("El registro fue aguardado con \xe9xito!","Guardar",{positionClass:"toast-bottom-right"})})}else this.veterinarioService.crearVeterinario(this.formVeterinario.value).subscribe(r=>{this.router.navigateByUrl("tablero/veterinario/"+r.veterinario._id),this.toastr.success("El registro fue aguardado con \xe9xito!","Guardar",{positionClass:"toast-bottom-right"}),this.veterinarioSeleccionado=r.veterinario},r=>{C.a.fire({icon:"error",title:"Error",text:r.error.msg})});else C.a.fire({icon:"error",title:"Error",text:"Algo sali\xf3 mal!"})}cargarVeterinaria(){this.veterinariaService.cargarVeterinarias().subscribe(r=>{this.veterinarias=r})}onSectionChange(){var r;null===(r=this.formVeterinario.get("veterinaria"))||void 0===r||r.valueChanges.subscribe(r=>{this.veterinariaSeleccionada=this.veterinarias.find(e=>e._id===r)})}}return r.\u0275fac=function(e){return new(e||r)(a.Hb(s.c),a.Hb(br),a.Hb(rr),a.Hb(y.b),a.Hb(i.c),a.Hb(i.a))},r.\u0275cmp=a.Bb({type:r,selectors:[["app-veterinario"]],decls:31,vars:13,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],["autocomplete","off",1,"form","p-t-20",3,"formGroup","ngSubmit"],["class","form-group row",4,"ngIf"],[1,"form-group"],["for","exampleInputuname"],["type","text","id","exampleInputuname","placeholder","Nombre del veterinario","formControlName","nombre",1,"form-control","form-control"],[1,"invalid-feedback"],[4,"ngIf"],["formControlName","veterinaria",1,"form-control","form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],["class","col ","animated","","fadeIn","","fast","",4,"ngIf"],[1,"form-group","row"],[1,"col-sm-9"],[1,"input-group","text-center"],[1,"img-thumbnail",3,"src"],[3,"value"],["animated","","fadeIn","","fast","",1,"col"]],template:function(r,e){if(1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"h4",4),a.lc(5,"Veterinario"),a.Lb(),a.Mb(6,"h6",5),a.lc(7,"Actualizar Informaci\xf3n"),a.Lb(),a.Mb(8,"form",6),a.Tb("ngSubmit",function(){return e.crearVeterinario()}),a.kc(9,gr,5,4,"div",7),a.Mb(10,"div",8),a.Mb(11,"label",9),a.lc(12,"Nombre"),a.Lb(),a.Ib(13,"input",10),a.Mb(14,"div",11),a.kc(15,hr,2,0,"span",12),a.kc(16,pr,2,0,"span",12),a.kc(17,fr,2,1,"span",12),a.Lb(),a.Lb(),a.Mb(18,"div",8),a.Mb(19,"label",9),a.lc(20,"Veterinarias"),a.Lb(),a.Mb(21,"select",13),a.Mb(22,"option",14),a.lc(23,"[Seleccione]"),a.Lb(),a.kc(24,vr,2,2,"option",15),a.Lb(),a.Mb(25,"div",11),a.kc(26,Mr,2,0,"span",12),a.Lb(),a.Lb(),a.Mb(27,"button",16),a.Ib(28,"i",17),a.lc(29," Guardar"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.kc(30,Lr,9,5,"div",18),a.Lb()),2&r){let r=null,t=null,i=null,n=null;a.wb(8),a.Zb("formGroup",e.formVeterinario),a.wb(1),a.Zb("ngIf",e.veterinarioSeleccionado),a.wb(4),a.yb(e.esCampoValido("nombre")),a.wb(2),a.Zb("ngIf",null==(r=e.formVeterinario.get("nombre"))||null==r.errors?null:r.errors.required),a.wb(1),a.Zb("ngIf",null==(t=e.formVeterinario.get("nombre"))||null==t.errors?null:t.errors.pattern),a.wb(1),a.Zb("ngIf",null==(i=e.formVeterinario.get("nombre"))||null==i.errors?null:i.errors.minlength),a.wb(4),a.yb(e.esCampoValido("veterinaria")),a.wb(3),a.Zb("ngForOf",e.veterinarias),a.wb(2),a.Zb("ngIf",null==(n=e.formVeterinario.get("veterinaria"))||null==n.errors?null:n.errors.required),a.wb(1),a.Zb("disabled",e.formVeterinario.invalid),a.wb(3),a.Zb("ngIf",e.veterinariaSeleccionada)}},directives:[s.r,s.i,s.f,o.k,s.b,s.h,s.d,s.o,s.l,s.q,o.j],pipes:[tr],encapsulation:2}),r})();function kr(r,e){1&r&&(a.Mb(0,"div",8),a.Mb(1,"p"),a.lc(2,"No hay usurios con ese t\xe9rmino"),a.Lb(),a.Lb())}function Ir(r,e){if(1&r&&(a.Mb(0,"tr",12),a.Mb(1,"td"),a.Ib(2,"img",13),a.Wb(3,"imagen"),a.Lb(),a.Mb(4,"td"),a.lc(5),a.Lb(),a.Lb()),2&r){const r=e.$implicit;a.wb(2),a.Zb("src",a.Xb(3,2,r.img,"usuarios"),a.gc),a.wb(3),a.mc(r.nombre)}}function Vr(r,e){if(1&r&&(a.Mb(0,"div",9),a.Mb(1,"table",10),a.Mb(2,"thead"),a.Mb(3,"tr"),a.Mb(4,"th"),a.lc(5,"Imagen"),a.Lb(),a.Mb(6,"th"),a.lc(7,"Nombre"),a.Lb(),a.Lb(),a.Lb(),a.Mb(8,"tbody"),a.kc(9,Ir,6,5,"tr",11),a.Lb(),a.Lb(),a.Lb()),2&r){const r=a.Vb();a.wb(9),a.Zb("ngForOf",r.usuarios)}}function Cr(r,e){1&r&&(a.Mb(0,"div",8),a.Mb(1,"p"),a.lc(2,"No hay Veterinarios con ese t\xe9rmino"),a.Lb(),a.Lb())}const yr=function(r){return["/tablero/veterinario",r]};function Sr(r,e){if(1&r&&(a.Mb(0,"tr",12),a.Mb(1,"td"),a.Ib(2,"img",13),a.Wb(3,"imagen"),a.Lb(),a.Mb(4,"td"),a.Mb(5,"a",14),a.lc(6),a.Lb(),a.Lb(),a.Lb()),2&r){const r=e.$implicit;a.wb(2),a.Zb("src",a.Xb(3,3,r.img,"veterinarios"),a.gc),a.wb(3),a.Zb("routerLink",a.bc(6,yr,r._id)),a.wb(1),a.mc(r.nombre)}}function xr(r,e){if(1&r&&(a.Mb(0,"div",9),a.Mb(1,"table",10),a.Mb(2,"thead"),a.Mb(3,"tr"),a.Mb(4,"th"),a.lc(5,"Imagen"),a.Lb(),a.Mb(6,"th"),a.lc(7,"Nombre"),a.Lb(),a.Lb(),a.Lb(),a.Mb(8,"tbody"),a.kc(9,Sr,7,8,"tr",11),a.Lb(),a.Lb(),a.Lb()),2&r){const r=a.Vb();a.wb(9),a.Zb("ngForOf",r.veterinarios)}}function Tr(r,e){1&r&&(a.Mb(0,"div",8),a.Mb(1,"p"),a.lc(2,"No hay Veterinarias con ese t\xe9rmino"),a.Lb(),a.Lb())}function Zr(r,e){if(1&r&&(a.Mb(0,"tr",12),a.Mb(1,"td"),a.Ib(2,"img",13),a.Wb(3,"imagen"),a.Lb(),a.Mb(4,"td"),a.lc(5),a.Lb(),a.Lb()),2&r){const r=e.$implicit;a.wb(2),a.Zb("src",a.Xb(3,2,r.img,"veterinarias"),a.gc),a.wb(3),a.mc(r.nombre)}}function Or(r,e){if(1&r&&(a.Mb(0,"div",9),a.Mb(1,"table",10),a.Mb(2,"thead"),a.Mb(3,"tr"),a.Mb(4,"th"),a.lc(5,"Imagen"),a.Lb(),a.Mb(6,"th"),a.lc(7,"Nombre"),a.Lb(),a.Lb(),a.Lb(),a.Mb(8,"tbody"),a.kc(9,Zr,6,5,"tr",11),a.Lb(),a.Lb(),a.Lb()),2&r){const r=a.Vb();a.wb(9),a.Zb("ngForOf",r.veterinarias)}}const Ur=[{path:"",component:n,data:{titulo:"Principal"}},{path:"progreso",component:l,data:{titulo:"Barra de Progreso"}},{path:"buscar/:termino",component:(()=>{class r{constructor(r,e,t){this.activatedRoute=r,this.router=e,this.busquedasService=t,this.usuarios=[],this.veterinarias=[],this.veterinarios=[]}ngOnInit(){this.activatedRoute.params.subscribe(({termino:r})=>this.busquedaGlobal(r))}busquedaGlobal(r){this.busquedasService.busquedaGlobal(r).subscribe(r=>{this.usuarios=r.usuarios,this.veterinarias=r.veterinarias,this.veterinarios=r.veterinarios})}}return r.\u0275fac=function(e){return new(e||r)(a.Hb(i.a),a.Hb(i.c),a.Hb(F))},r.\u0275cmp=a.Bb({type:r,selectors:[["app-busqueda"]],decls:22,vars:6,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-4"],[1,"card"],[1,"card-body"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","alert alert-info ",4,"ngIf"],["class","table-responsive ",4,"ngIf"],[1,"alert","alert-info"],[1,"table-responsive"],[1,"table"],["class","animated  fadeIn fast",4,"ngFor","ngForOf"],[1,"animated","fadeIn","fast"],[1,"w50",3,"src"],[3,"routerLink"]],template:function(r,e){1&r&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"h3"),a.lc(5,"Usuarios"),a.Lb(),a.kc(6,kr,3,0,"div",4),a.kc(7,Vr,10,1,"div",5),a.Lb(),a.Lb(),a.Lb(),a.Mb(8,"div",1),a.Mb(9,"div",2),a.Mb(10,"div",3),a.Mb(11,"h3"),a.lc(12,"Veterinarios"),a.Lb(),a.kc(13,Cr,3,0,"div",6),a.kc(14,xr,10,1,"div",7),a.Lb(),a.Lb(),a.Lb(),a.Mb(15,"div",1),a.Mb(16,"div",2),a.Mb(17,"div",3),a.Mb(18,"h3"),a.lc(19,"Veterinaris"),a.Lb(),a.kc(20,Tr,3,0,"div",6),a.kc(21,Or,10,1,"div",7),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&r&&(a.wb(6),a.Zb("ngIf",0===e.usuarios.length),a.wb(1),a.Zb("ngIf",0!==e.usuarios.length),a.wb(6),a.Zb("ngIf",0===e.veterinarios.length),a.wb(1),a.Zb("ngIf",0!==e.veterinarios.length),a.wb(6),a.Zb("ngIf",0===e.veterinarias.length),a.wb(1),a.Zb("ngIf",0!==e.veterinarias.length))},directives:[o.k,o.j,i.e],pipes:[tr],encapsulation:2}),r})(),data:{titulo:"Busqueda general"}},{path:"cuenta-config",component:h,data:{titulo:"Configuraci\xf3n de Tema"}},{path:"grafica1",component:m,data:{titulo:"Gr\xe1fica"}},{path:"app-promesas",component:p,data:{titulo:"Promesa"}},{path:"perfil",component:N,data:{titulo:"Perfil"}},{path:"app-rxjs",component:I,data:{titulo:"Rxjs"}},{path:"veterinarias",component:or,data:{titulo:"Veterinarias de App"}},{path:"veterinarios",component:mr,data:{titulo:"Veterinarios de App"}},{path:"veterinario/:id",component:wr,data:{titulo:"Veterinarios de App"}},{path:"usuarios",canActivate:[(()=>{class r{constructor(r,e){this.usuarioService=r,this.roter=e}canActivate(r,e){return"ADMIN_ROLE"===this.usuarioService.rol||(this.roter.navigateByUrl("/tablero"),!1)}}return r.\u0275fac=function(e){return new(e||r)(a.Qb(S.a),a.Qb(i.c))},r.\u0275prov=a.Db({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()],component:Q,data:{titulo:"Usuarios de App"}}];let Er=(()=>{class r{}return r.\u0275mod=a.Fb({type:r}),r.\u0275inj=a.Eb({factory:function(e){return new(e||r)},imports:[[i.f.forChild(Ur)],i.f]}),r})()}}]);